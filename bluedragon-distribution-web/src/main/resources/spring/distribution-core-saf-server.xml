<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:saf="http://code.360buy.com/schema/saf"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd  http://code.360buy.com/schema/saf http://code.360buy.com/schema/saf/saf.xsd">   <!-- 业务实现类 -->

	<bean id="waybillSafService"
		class="com.jd.bluedragon.distribution.saf.WaybillSafServiceImpl" />
	<bean id="ordersResourceSafService"
		class="com.jd.bluedragon.distribution.saf.OrdersResourceSafServiceImpl">
		<property name="ordersResource" ref="ordersResource"></property>
	</bean>

	<!-- 注册中心配置,服务提供者连接注册中心 -->
	<saf:registry protocol="jdZooKeeper" id="jdZooKeeper"
		address="${dms.saf.jdzookeeper}" />

	<!-- 指定发布的协议 -->
	<saf:protocol id="mydubbo" name="dubbo"/>

	<!-- 暴露及注册服务 -->
	<saf:service id="waybillSafServer"
		interface="com.jd.bluedragon.distribution.saf.WaybillSafService" ref="waybillSafService"
		group="${dms.saf.group}" protocol="mydubbo" version="1.0.0" registry="jdZooKeeper">
	</saf:service>
	
	
	<bean id="emsOrderJosSafService"
		class="com.jd.bluedragon.distribution.saf.EmsOrderJosSafServiceImpl" />
	
	<saf:service id="emsOrderJosSaf" protocol="mydubbo"
		registry="jdZooKeeper" version="1.0.0" group="${dms.saf.group}" timeout="5000"  retries="0" 
		ref="emsOrderJosSafService" interface="com.jd.bluedragon.distribution.saf.EmsOrderJosSafService">
	</saf:service>
	
	
	<saf:service id="ordersResourceSafServer"
		interface="com.jd.bluedragon.distribution.saf.OrdersResourceSafService" ref="ordersResourceSafService"
		group="${dms.saf.group}" protocol="mydubbo" version="1.0.0" registry="jdZooKeeper">
	</saf:service>
		
	<bean id="getWaybillSafService"
		class="com.jd.bluedragon.distribution.saf.GetWaybillSafServiceImpl" />
	
	<saf:service id="getWaybillSafServer" protocol="mydubbo"
		registry="jdZooKeeper" version="1.0.2" group="${dms.saf.group}" timeout="5000"  retries="0" 
		ref="getWaybillSafService" interface="com.jd.bluedragon.distribution.saf.service.GetWaybillSafService">
	</saf:service>
	
	<!-- 直连测试 
	<saf:reference id="waybillSafRefer"
		interface="com.jd.bluedragon.distribution.saf.WaybillSafService"
		version="1.0.0" group="DMS" protocol="dubbo" timeout="5000"  retries="0" 
		check="false" url="dubbo://10.12.122.41:20880/com.jd.bluedragon.distribution.saf.WaybillSafService"/>-->
</beans>