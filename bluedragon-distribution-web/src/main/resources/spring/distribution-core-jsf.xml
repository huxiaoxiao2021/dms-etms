<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:jsf="http://jsf.jd.com/schema/jsf"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
		http://jsf.jd.com/schema/jsf http://jsf.jd.com/schema/jsf/jsf.xsd"
       default-lazy-init="false">

    <!-- 注册中心 address="192.168.150.119:40660,192.168.150.121:40660" -->
    <jsf:registry id="jsfRegistry" index="i.jsf.jd.com"/>

    <!-- 服务端 端口默认22000-->
    <jsf:server id="dmsjsf" protocol="jsf"/>


    <!-- 共用 client 区 -->
    <!-- 财务接口 王建磊  -->
    <jsf:consumer id="waybillServiceJSF" interface="com.jd.etms.finance.wss.WaybillDataServiceWS"
                  protocol="jsf" alias="${finance.jsf.alias}" timeout="10000" retries="0">
    </jsf:consumer>

    <!-- 外单快速生产运单信息接口 王建磊 -->
    <jsf:consumer id="getOrderMsgServiceJsf" interface="com.jd.ql.dms.receive.api.jsf.GetOrderMsgServiceJsf"
                  protocol="jsf" alias="${getOrderMsgServiceJsf.jsf.alias}" timeout="10000" retries="0">
        <jsf:parameter key="token" value="${getOrderMsgServiceJsf.jsf.token}" hide="true"/>
    </jsf:consumer>

    <!-- 返单业务接口 王建磊 -->
    <jsf:consumer id="grossReturnSafService" interface="com.jd.etms.receive.api.saf.GrossReturnSaf"
                  protocol="jsf" alias="${finance.jsf.alias}" timeout="10000" retries="0">
    </jsf:consumer>

    <!-- erp接口 苗延超 杨庭柱 -->

    <!--     <jsf:consumer id="bizServiceInterfaceJsf" interface="com.jd.etms.erp.ws.BizServiceInterface"
                      protocol="jsf" alias="${erp.jsf.alias}" timeout="10000" retries="0">
        </jsf:consumer> -->

    <jsf:consumer id="supportServiceJsf" interface="com.jd.etms.erp.ws.SupportServiceInterface"
                  protocol="jsf" alias="${erp.jsf.alias}" timeout="10000" retries="0">
    </jsf:consumer>

    <!--     <jsf:consumer id="erpBizSafWS"  interface="com.jd.etms.erp.ws.ErpQuerySafWS"
                      protocol="jsf" alias="${erp.jsf.alias}" timeout="10000"  check="false" retries="0">
        </jsf:consumer> -->

    <!-- 仓储dtc接口 乔洪佥 -->
    <jsf:consumer id="dtcDataReceiverServiceJsf" interface="com.jd.staig.receiver.rpc.DataReceiver"
                  protocol="jsf" alias="${dtc.jsf.alias}" timeout="10000" retries="0">
    </jsf:consumer>
    <!-- -->
    <!-- Promise接口，获取分拣中心和配送中心对应关系 -->
    <jsf:consumer id="sortDeliverySyncService"
                  interface="com.jd.fce.upc.area.service.contract.SortDeliveryCenterInfoSyncService"
                  protocol="jsf" alias="${dos.ofc.alias}" timeout="${dos.ofc.timeout}">
        <jsf:parameter key="token" value="${dos.ofc.token}" hide="true"/>
    </jsf:consumer>

    <jsf:consumer id="orderMarkingService" interface="com.jd.fce.dos.service.contract.OrderMarkingService"
                  protocol="jsf" alias="${fce.dos.ofc.alias}" timeout="${fce.dos.ofc.timeout}" retries="0">
    </jsf:consumer>


    <!-- 预分拣接口,获得  订单-预分拣站点给自动分拣机用,为数据库复制备份 吴昊 -->
    <jsf:consumer id="preseparateOrderService"
                  interface="com.jd.bluedragon.preseparate.jsf.CommonOrderServiceJSF"
                  alias="${pre.order.alias}" protocol="jsf" timeout="${pre.order.timeout}" retries="2">
    </jsf:consumer>

    <!--调用dmsver分拣拦截验证服务-->
    <jsf:consumer id="jsfSortingResourceService"
                  interface="com.jd.bluedragon.distribution.jsf.service.JsfSortingResourceService"
                  alias="${dmsver.check.alias}" protocol="jsf" timeout="${dmsver.check.timeout}" retries="0">
    </jsf:consumer>

    <!-- 青龙三方路由JSF接口 陈全峰 -->
    <jsf:consumer id="orderShipsServiceJsf" interface="com.jd.etms.third.jsf.OrderShipsServiceJsf"
                  protocol="jsf" alias="${3pl.jsf.alias}" timeout="10000" retries="0">
    </jsf:consumer>

    <!-- 运力编码Vts系统 李胜涛  -->
    <jsf:consumer id="vtsQueryWS" interface="com.jd.etms.vts.ws.VtsQueryWS" protocol="jsf"
                  alias="${vst.jsf.alias}" serialization="hessian" timeout="10000" retries="0">
    </jsf:consumer>

    <bean id="vtsQueryWSProxy" class="com.jd.etms.vts.proxy.impl.VtsQueryWSProxyImpl">
        <property name="vtsQueryWS" ref="vtsQueryWS"></property>
    </bean>

    <jsf:consumer id="basicQueryWS" interface="com.jd.tms.basic.ws.BasicQueryWS" protocol="jsf"
                  alias="${tms.jsf.basic.alias}" serialization="hessian" timeout="10000" retries="0">
    </jsf:consumer>

    <!-- 车辆管理系统 VMS 系统 李胜涛  -->
    <jsf:consumer id="vehicleManagerService" interface="com.jd.etms.vehicle.manager.service.saf.VehicleManagerService"
                  protocol="jsf" alias="${vms.jsf.alias}" serialization="hessian" timeout="10000" retries="0">
    </jsf:consumer>

    <!--  出管接口 潘文华 于凯 -->
    <jsf:consumer id="stockExportServiceJsf" interface="com.jd.stock.iwms.export.StockExportService" protocol="jsf"
                  alias="${stock.jsf.alias}" timeout="3000" retries="2">
        <jsf:parameter key="token" value="${stock.jsf.jdtoken}" hide="true"/>
    </jsf:consumer>

    <!-- 运单系统接口 开始 -->
    <jsf:consumer id="waybillQueryApiJsf" interface="com.jd.etms.waybill.api.WaybillQueryApi" protocol="jsf"
                  alias="${jsf.waybill.group}" timeout="5000" retries="0" check="false">
    </jsf:consumer>

    <jsf:consumer id="waybillPackageApiJsf" interface="com.jd.etms.waybill.api.WaybillPackageApi" protocol="jsf"
                  alias="${jsf.waybill.group}" timeout="5000" retries="0" check="false">
    </jsf:consumer>
    <jsf:consumer id="waybillAddApiJsf" interface="com.jd.etms.waybill.api.WaybillAddApi" protocol="jsf"
                  alias="${jsf.waybill.group}" timeout="5000" retries="0" check="false">
    </jsf:consumer>
    <jsf:consumer id="waybillSyncApiJsf" interface="com.jd.etms.waybill.api.WaybillSyncApi" protocol="jsf"
                  alias="${jsf.waybill.group}" timeout="5000" retries="0" check="false">
    </jsf:consumer>
    <!--<jsf:consumer id="waybillUpdateApiJsf" interface="com.jd.etms.waybill.api.WaybillUpdateApi" protocol="jsf"
                  alias="${jsf.waybill.group}" timeout="5000" retries="0" check="false">
    </jsf:consumer>-->
    <jsf:consumer id="waybillPickupTaskApiJsf" interface="com.jd.etms.waybill.api.WaybillPickupTaskApi" protocol="jsf"
                  alias="${jsf.waybill.group}" timeout="5000" retries="0" check="false">
    </jsf:consumer>
    <jsf:consumer id="waybillTraceApiJsf" interface="com.jd.etms.waybill.api.WaybillTraceApi" protocol="jsf"
                  alias="${jsf.waybill.group}" timeout="5000" retries="0" check="false">
    </jsf:consumer>
    <jsf:consumer id="waybillExtendApiJsf" interface="com.jd.etms.waybill.api.WaybillExtendApi" protocol="jsf"
                  alias="${jsf.waybill.group}" timeout="5000" retries="0" check="false">
    </jsf:consumer>
    <jsf:consumer id="josServiceJsf"
                  interface="com.jd.bluedragon.distribution.external.jos.service.JosService" protocol="jsf"
                  alias="${dms.jsf.alias}"
    >
    </jsf:consumer>
    <!-- 运单系统接口 结束 -->
    <!-- 基础资料系统接口 开始 -->
    <!--获取站点，员工，机构等数据-->
    <jsf:consumer id="basicPrimaryWS" interface="com.jd.ql.basic.ws.BasicPrimaryWS" protocol="jsf"
                  alias="${basic.jsf.alias}" timeout="${basic.jsf.timeout}">
        <jsf:parameter key="token" value="${basic.jsf.token}" hide="true"/>
    </jsf:consumer>

    <!--basicPrimaryWS接口代理类，内有 获取全量站点、员工 方法-->
    <bean id="basicPrimaryWSProxy" class="com.jd.ql.basic.proxy.impl.BasicPrimaryWSProxyImpl">
        <property name="basicPrimaryWS" ref="basicPrimaryWS"></property>
    </bean>

    <!--获取省市县地址、商家、门店等数据-->
    <jsf:consumer id="basicSecondaryWS" interface="com.jd.ql.basic.ws.BasicSecondaryWS" protocol="jsf"
                  alias="${basic.jsf.alias}" timeout="${basic.jsf.timeout}">
        <jsf:parameter key="token" value="${basic.jsf.token}" hide="true"/>
    </jsf:consumer>

    <jsf:consumer id="basicTraderAPI" interface="com.jd.ldop.basic.api.BasicTraderAPI" protocol="jsf"
                  alias="${ldop.basic.jsf.alias}" timeout="${basic.jsf.timeout}">
    </jsf:consumer>

    <!-- basicSecondaryWS接口代理类，内有 获取全量省市县地址、商家 方法 -->
    <bean id="basicSecondaryWSProxy" class="com.jd.ql.basic.proxy.impl.BasicSecondaryWSProxyImpl">
        <property name="basicSecondaryWS" ref="basicSecondaryWS"></property>
    </bean>

    <!--获取分拣路线、自提柜等数据-->
    <jsf:consumer id="basicMixedWS" interface="com.jd.ql.basic.ws.BasicMixedWS" protocol="jsf"
                  alias="${basic.jsf.alias}" timeout="${basic.jsf.timeout}">
        <jsf:parameter key="token" value="${basic.jsf.token}" hide="true"/>
    </jsf:consumer>

    <!-- 获取航空配置数据 -->
    <jsf:consumer id="basicAirConfigWS" interface="com.jd.ql.basic.ws.BasicAirConfigWS" protocol="jsf"
                  alias="${basic.jsf.alias}" timeout="${basic.jsf.timeout}">
        <jsf:parameter key="token" value="${basic.jsf.token}" hide="true"/>
    </jsf:consumer>
    <!-- 基础资料系统接口 结束 -->

    <jsf:consumer id="invoiceJsfService" interface="com.jd.invoice.service.jsf.PrintTableJsfService" protocol="jsf"
                  alias="${fms.invoice.alias}" timeout="${fms.invoice.timeout}" retries="0" check="false"/>

    <!--     监控JSF接口   -->
    <jsf:consumer id="monitorJsfService" interface="com.jd.etms.monitor.jsf.VosScanCodeDifferenceQuery" protocol="jsf"
                  alias="${monitor.jsf.alias}" timeout="${monitor.jsf.timeout}"/>


    <!--订单中间件的jsf接口 订单生产组 宋扬 宋博 测试：ioms-test 预发布：ioms-care 廊坊：ioms-LF-1.0 马驹桥：ioms-MJQ-1.0-->
    <jsf:consumer id="orderMiddlewareJSFService"
                  interface="com.jd.ioms.jsf.export.OrderMiddlewareJSFService" protocol="jsf"
                  alias="${order.middle.jsf.alias}" timeout="${order.middle.jsf.timeout}">
        <jsf:parameter key="token" value="${order.middle.jsf.token}" hide="true"/>
    </jsf:consumer>


    <!-- 用户组jsf接口，负责人 兰江
         SourceId：ql_dms
         Alias（测试）：userSdk-136
         Alias（线上马驹桥）：userSdk-mjq-noah04（系统已配置alias，可用原有配置）
         Alias（线上廊坊）：userSdk-lf-noah04（系统已配置alias，可用原有配置）
    -->
    <bean id="userSdkConsumerFilter" class="com.jd.user.sdk.export.filter.UserSdkConsumerFilter" scope="prototype"/>
    <jsf:consumer id="userInfoRpc" interface="com.jd.user.sdk.export.UserInfoExportService" alias="${user.export.alias}"
                  filter="userSdkConsumerFilter" retries="${user.export.retries}" timeout="${user.export.timeout}">
        <jsf:parameter key="source" value="${user.export.sourceId}" hide="true"/>
    </jsf:consumer>

    <!-- 台账 宏亮 张子敬-->
    <jsf:consumer id="orderQueryResource" interface="com.jd.orderbank.export.rest.OrderQueryResource" protocol="jsf"
                  alias="${orderBank.jsf.alias}" timeout="${orderBank.jsf.timeout}">
    </jsf:consumer>

    <!-- 公司邮件服务  开始-->
    <bean id="qlMailAuthenticator" class="org.apache.commons.mail.DefaultAuthenticator">
        <constructor-arg value="${dms.cmail.username}"></constructor-arg>
        <constructor-arg value="${dms.cmail.password}"></constructor-arg>
    </bean>

    <bean id="commonsEmailSender" class="com.jd.bluedragon.distribution.mail.service.CommonsEmailSender">
        <property name="hostName" value="${dms.cmail.hostName}"/>
        <property name="charset" value="${dms.cmail.charset}"/>
        <property name="port" value="${dms.cmail.port}"/>
        <property name="ssLOnConnect" value="${dms.cmail.ssLOnConnect}"/>
        <property name="authenticator">
            <ref bean="qlMailAuthenticator"/>
        </property>
    </bean>

    <bean id="mailProxy" class="com.jd.bluedragon.distribution.mail.MailProxy">
        <property name="commonsEmailSender">
            <ref bean="commonsEmailSender"/>
        </property>
        <property name="fromEmailAddress" value="${dms.cmail.fromEmailAddress}"/>
        <property name="fromEmailName" value="青龙服务"/>
    </bean>
    <!-- 公司邮件服务  结束-->

    <!--封车解封车jsf接口  added by zhanglei 20170519 -->
    <!-- 封车解封车 jsf接口 隋红华 王显群-->
    <jsf:consumer id="vosBusinessWS" interface="com.jd.etms.vos.ws.VosBusinessWS"
                  protocol="jsf" alias="${vos.jsf.alias}" serialization="hessian" timeout="10000" retries="0">
    </jsf:consumer>
    <!-- 任务封车简码查询 jsf接口 郝雄山-->
    <jsf:consumer id="tfcQueryWS" interface="com.jd.tms.tfc.ws.TfcQueryWS"
                  protocol="jsf" alias="${tfc.jsf.alias}" serialization="hessian" timeout="10000" retries="0">
    </jsf:consumer>

    <!-- 车辆电子围栏 VOS系统 隋红华 王显群 李胜涛  -->
    <jsf:consumer id="vosQueryWS" interface="com.jd.etms.vos.ws.VosQueryWS"
                  protocol="jsf" alias="${vos.jsf.alias}" serialization="hessian" timeout="10000" retries="0">
    </jsf:consumer>

    <!--封车解封车jsf接口  added by zhanglei 20170519 -->

    <!-- 备件库配送入 新增jsf接口 author：zhongyicun 2017-08-29 -->
    <jsf:consumer id="distributionReceiveJsfService" interface="com.jd.rd.unpack.jsf.distributionReceive.service.DistributionReceiveJsfService"
                  protocol="jsf" alias="${unpack.jsf.alias}" serialization="hessian" timeout="10000" retries="3">
    </jsf:consumer>
    <!-- 备件库扩展接口  -->
	<jsf:consumer id="rdWmsStoreExtendService" interface="com.jd.rd.wms.jsf.bin.service.RdWmsStoreExtendService" 
		protocol="jsf" alias="${jsf.rdWmsStoreExtendService.alias}" timeout="5000" retries="3">
	</jsf:consumer>
    <!-- 二次预分拣中件站接口  -->
	<jsf:consumer id="presortMediumStation" interface="com.jd.bluedragon.preseparate.jsf.PresortMediumStationAPI"
		protocol="jsf" alias="${jsf.presortMediumStationAPI.alias}" timeout="5000" retries="3">
	</jsf:consumer>
	<!-- 运输jsf接口 -->
	<jsf:consumer id="basicSyncWS" interface="com.jd.tms.basic.ws.BasicSyncWS"
		protocol="jsf" alias="${jsf.basicSyncWS.alias}" timeout="5000" retries="3">
	</jsf:consumer>

    <!-- TC jsf 接口-->
    <jsf:consumer id="groupBoardService" interface="com.jd.transboard.api.service.GroupBoardService"
                  protocol="jsf" alias="${jsf.TC.alias}" timeout="${jsf.TC.timeout}" retries="3">
    </jsf:consumer>
    <!-- 路由 谭杨-->
    <bean id="vrsRedisCacheSdk" class=" com.jd.etms.sdk.util.RedisCache">
        <property name="jimClient" ref="redisClient"/>
    </bean>
    <bean id="routeComputeUtil" class="com.jd.etms.sdk.compute.RouteComputeUtil">
        <property name="routeComputeQueryAPI" ref="routeComputeQueryAPI"/>
        <property name="redisCache" ref="vrsRedisCacheSdk"/>
    </bean>
    <jsf:consumer id="routeComputeQueryAPI" interface="com.jd.etms.api.recommendroute.RouteComputeQueryAPI"
                  protocol="jsf" alias="${jsf.router.alias}" timeout="5000" retries="3">
    </jsf:consumer>
    <jsf:consumer id="vrsBNetQueryApi" interface="com.jd.etms.api.bnet.VrsBNetQueryAPI"
                  protocol="jsf" alias="${jsf.router.vrsBNetQueryApi.alias}" timeout="5000" retries="3">
    </jsf:consumer>
    <!-- 外单逆向换单接口-->
    <jsf:consumer id="waybillReverseApi" interface="com.jd.ldop.center.api.reverse.WaybillReverseApi"
                  protocol="jsf" alias="${jsf.waybillReverseApi.alias}" timeout="5000" retries="3">
    </jsf:consumer>
</beans>
