<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:jsf="http://jsf.jd.com/schema/jsf"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
    http://jsf.jd.com/schema/jsf http://jsf.jd.com/schema/jsf/jsf.xsd">

    <bean id="messageConumerService"
          class="com.jd.bluedragon.distribution.external.service.impl.MessageConumerServiceImpl">
        <property name="consumerFactory">
            <bean class="com.jd.bluedragon.core.message.base.MessageBaseConsumerFactory">
                <property name="msgConfigs">
                    <set>
                        <bean class="com.jd.bluedragon.core.message.base.MessageBaseConfig">
                            <property name="destination" value="vos_send_car"/>
                            <property name="systemId" value="BlueDragonDistribution"/>
                            <property name="consumer" ref="sendCarConsumer"/>
                            <property name="desc" value="一车一单发车"/>
                        </bean>
                        <bean class="com.jd.bluedragon.core.message.base.MessageBaseConfig">
                            <property name="destination" value="vos_cancel_send"/>
                            <property name="systemId" value="BlueDragonDistribution"/>
                            <property name="consumer" ref="cancelSendCarConsumer"/>
                            <property name="desc" value="一车一单取消发车"/>
                        </bean>

                        <!-- 逆向收货消息消费  需要-->
                        <bean class="com.jd.bluedragon.core.message.base.MessageBaseConfig">
                            <property name="destination" value="bd_dms_reverse_receive"/>
                            <property name="systemId" value="BlueDragonDistributionStock"/>
                            <property name="consumer" ref="reverseStockConsumer"/>
                            <property name="desc" value="逆向备件库收货消息消费回传库存中间件"/>
                        </bean>
                        <bean class="com.jd.bluedragon.core.message.base.MessageBaseConfig">
                            <property name="destination" value="bd_dms_reverse_receive"/>
                            <property name="systemId" value="BlueDragonDistributionPop"/>
                            <property name="consumer" ref="reversePopConsumer"/>
                            <property name="desc" value="逆向收货消息消费回传POP系统"/>
                        </bean>
                        <bean class="com.jd.bluedragon.core.message.base.MessageBaseConfig">
                            <property name="destination" value="bd_dms_reverse_receive"/>
                            <property name="systemId" value="bd"/>
                            <property name="consumer" ref="reverseReceiveConsumer"/>
                            <property name="desc" value="逆向大库收货消息内部系统消费"/>
                        </bean>


                        <bean class="com.jd.bluedragon.core.message.base.MessageBaseConfig">
                            <property name="destination" value="FXMDmsAoFB"/>
                            <property name="systemId" value="bd"/>
                            <property name="consumer" ref="fxmAbnormalConsumer"/>
                            <property name="desc" value="配送外呼订单回传"/>
                        </bean>
                        <bean class="com.jd.bluedragon.core.message.base.MessageBaseConfig">
                            <property name="destination" value="dms_pop_abnormal_order"/>
                            <property name="systemId" value="BlueDragonDistribution"/>
                            <property name="consumer" ref="popAbnormalConsumer"/>
                            <property name="desc" value="POP差异包裹审核结果处理"/>
                        </bean>
                        <bean class="com.jd.bluedragon.core.message.base.MessageBaseConfig">
                            <property name="destination" value="pop_bd_abnormal_deal"/>
                            <property name="systemId" value="bd"/>
                            <property name="consumer" ref="popAbnormalNewConsumer"/>
                            <property name="desc" value="POP差异包裹审核结果处理新"/>
                        </bean>
                        <bean class="com.jd.bluedragon.core.message.base.MessageBaseConfig">
                            <property name="destination" value="rec_abnormal_deal"/>
                            <property name="systemId" value="bd"/>
                            <property name="consumer" ref="popAbnormalNewConsumer"/>
                            <property name="desc" value="B商家订单差异审核结果处理分发地址"/>
                        </bean>
                        <bean class="com.jd.bluedragon.core.message.base.MessageBaseConfig">
                            <property name="destination" value="ldms_to_bluedragon"/>
                            <property name="systemId" value="bd"/>
                            <property name="consumer" ref="lossOrderConsumer"/>
                            <property name="desc" value="逆向报损订单"/>
                        </bean>


                        <bean class="com.jd.bluedragon.core.message.base.MessageBaseConfig">
                            <property name="destination" value="sph_reverse_1"/>
                            <property name="systemId" value="bd"/>
                            <property name="consumer" ref="pickWareConsumer"/>
                            <property name="desc" value="备件库取件单"/>
                        </bean>
                        <bean class="com.jd.bluedragon.core.message.base.MessageBaseConfig">
                            <property name="destination" value="dms_router"/>
                            <property name="systemId" value="bd"/>
                            <property name="consumer" ref="dmsRouterConsumer"/>
                            <property name="desc" value="DMS同步外部系统"/>
                        </bean>
                        <bean class="com.jd.bluedragon.core.message.base.MessageBaseConfig">
                            <property name="destination" value="dms_router_1"/>
                            <property name="systemId" value="bd"/>
                            <property name="consumer" ref="dmsRouterConsumer"/>
                            <property name="desc" value="华中_DMS同步外部系统"/>
                        </bean>
                        <bean class="com.jd.bluedragon.core.message.base.MessageBaseConfig">
                            <property name="destination" value="dms_pop_pickup"/>
                            <property name="systemId" value="bd"/>
                            <property name="consumer" ref="popPickupConsumer"/>
                            <property name="desc" value="PDA推送POP收货消息"/>
                        </bean>
                        <bean class="com.jd.bluedragon.core.message.base.MessageBaseConfig">
                            <property name="destination" value="bd_dms_reverse_reject"/>
                            <property name="systemId" value="bd"/>
                            <property name="consumer" ref="reverseRejectConsumer"/>
                            <property name="desc" value="逆向拒收货消息"/>
                        </bean>
                    </set>
                </property>
            </bean>
        </property>
    </bean>

    <!-- 发布massage消费js服务 -->
    <jsf:provider id="jsfMessageConumerService" interface="com.jd.etms.message.Consumer"
                  alias="${dms.jsf.alias.messageConumer}"
                  ref="messageConumerService" server="dmsjsf">
    </jsf:provider>

    <!-- 发布给外部系统读接口 -->
    <jsf:provider id="jsfDmsExternalReadService"
                  interface="com.jd.bluedragon.distribution.external.service.DmsExternalReadService"
                  alias="${dms.jsf.alias}"
                  ref="dmsExternalReadService" server="dmsjsf">
    </jsf:provider>
    <!-- 发布给外部系统读接口 -->
    <jsf:provider id="jsfDmsExternalService"
                  interface="com.jd.bluedragon.distribution.external.service.DmsExternalService"
                  alias="${dms.jsf.alias}"
                  ref="dmsExternalService" server="dmsjsf">
    </jsf:provider>

    <!-- 对接jos平台接口 -->
    <jsf:provider id="jsfJosService"
                  interface="com.jd.bluedragon.distribution.external.jos.service.JosService"
                  alias="${dms.jsf.alias}"
                  ref="josService" server="dmsjsf">
    </jsf:provider>
    <!-- 对接jos平台读接口 -->
    <jsf:provider id="jsfJosReadService"
                  interface="com.jd.bluedragon.distribution.external.jos.service.JosReadService"
                  alias="${dms.jsf.alias}"
                  ref="josReadService" server="dmsjsf">
    </jsf:provider>

</beans>