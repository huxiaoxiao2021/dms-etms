<?xml version="1.0" encoding="UTF-8"?>
<beans xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
    http://code.jd.com/schema/jmq
    http://code.jd.com/schema/jmq/jmq-1.1.xsd"
       xmlns:jmq="http://code.jd.com/schema/jmq"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns="http://www.springframework.org/schema/beans">
    <jmq:transport id="jmq.BlueDragonDistribution.transport" channelMaxIdleTime="10000" epoll="false"
                   app="${jmq.BlueDragonDistribution.producer.app}"
                   password="${jmq.BlueDragonDistribution.password}"
                   user="${jmq.BlueDragonDistribution.user}"
                   address="${jmq.BlueDragonDistribution.address}" />
    <jmq:producer id="jmqProducer" transport="jmq.BlueDragonDistribution.transport" retryTimes="3" />
    <!--下述BEAN用来去除DBS事务拦截-->
    <bean class="com.jd.coo.sa.mybatis.plugins.event.mq.MQPluginContext"/>
    <bean id="bdMonitorMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="timeout" value="1000"/>
        <property name="topic" value="bd_monitor"/>
    </bean>
    <bean id="ownWaybillTransformMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="timeout" value="1000"/>
        <property name="topic" value="ownWaybillTransform"/>
    </bean>

    <bean id="inspectionDataSyncMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="inspection"/>
        <property name="timeout" value="1000"/>
    </bean>

    <bean id="receiveArteryInfoMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="receive_artery_info"/>
        <property name="timeout" value="1000"/>
        <!--receive_artery_info", "收货发送给财务计费系统运输信息-->
    </bean>
    <bean id="wmsStockChuGuanMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="wms_stock_chuguanmsg"/>
        <property name="timeout" value="1000"/>
        <!---->
    </bean>
    <bean id="bdBlockerCompleteMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_blocker_complete"/>
        <property name="timeout" value="1000"/>
        <!---->
    </bean>
    <bean id="blockerComOrbrefundRqMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="blockerComOrbrefundRq"/>
        <property name="timeout" value="1000"/>
        <!---->
    </bean>
    <!--逆向发ECLP报文TOPIC-->
    <!-- bean id="bdToJoslRejMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_to_josl_rej"/>
        <property name="timeout" value="1000"/>
    </bean> -->
    <bean id="bdDmsReverseSendEclp" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_dms_reverse_send_eclp"/>
        <property name="timeout" value="1000"/>
        <!--已认证worker配置文件-->
    </bean>

    <bean id="bdPopReceivecountMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_pop_receivecount"/>
        <property name="timeout" value="1000"/>
        <!--未找到-->
    </bean>
    <bean id="dmsAbnormalSendMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_abnormal_send"/>
        <property name="timeout" value="1000"/>
        <!--已修改topic-->
    </bean>
    <bean id="receiveBdAbnormalSendMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="dms_abnormal_send"/>
        <property name="timeout" value="1000"/>
        <!--已修改主题-->
    </bean>
    <bean id="pop1MQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="20_90"/>
        <property name="timeout" value="1000"/>
        <!--已修改主题-->
    </bean>
    <bean id="turnoverBoxMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_monitor_turnover_report"/>
        <property name="timeout" value="1000"/>
        <!--已修改主题-->
    </bean>
    <bean id="pickwarePushMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="pickware_push"/>
        <property name="timeout" value="1000"/>
        <!--未找到-->
    </bean>
    <bean id="bdExceptionToQcMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_exception_to_qc"/>
        <property name="timeout" value="1000"/>
        <!---->
    </bean>
    <bean id="dmsRouterMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="dms_router"/>
        <property name="timeout" value="1000"/>
        <!--未找到-->
    </bean>
    <bean id="logisticsCompensationMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_return_stock"/>
        <property name="timeout" value="1000"/>
        <!--已修改主题-->
    </bean>
    <bean id="dmsSendLossMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_dms_reverse_loss"/>
        <property name="timeout" value="1000"/>
        <!--已修改主题-->
    </bean>
    <bean id="pushFXMMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_dms_abnormal_order"/>
        <property name="timeout" value="1000"/>
        <!--已修改主题-->
    </bean>
    <bean id="orbrefundRqMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="orbrefundRq"/>
        <property name="timeout" value="1000"/>
        <!---->
    </bean>
    <bean id="packageMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_order_package"/>
        <property name="timeout" value="1000"/>
        <!--已修改主题-->
    </bean>
    <bean id="dmsPopPickupMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="dms_pop_pickup"/>
        <property name="timeout" value="1000"/>
        <!---->
    </bean>
    <bean id="bdDmsAbnormalOrderToQcMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_dms_abnormal_order_to_qc"/>
        <property name="timeout" value="1000"/>
        <!---->
    </bean>
    <bean id="q20_50MQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="20_50"/>
        <property name="timeout" value="1000"/>
        <!---->
    </bean>
    <bean id="q20_20MQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="20_20"/>
        <property name="timeout" value="1000"/>
        <!---->
    </bean>
    <bean id="dmsModifyOrderInfoMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="dms_modify_order_info"/>
        <property name="timeout" value="1000"/>
        <!---->
    </bean>
    <bean id="bdDmsReverseSendMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_dms_reverse_send"/>
        <property name="timeout" value="1000"/>
        <!---->
    </bean>
    <!--worker发送mq失败之后 重新通过通用worker发送mq-->
    <bean id="dmsWorkSendDetailMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="dmsWorkSendDetail"/>
        <property name="timeout" value="1000"/>
        <!---->
    </bean>
    <!--包裹称重信息发送mq-->
    <bean id="dmsWeightSendMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="dmsWeightSendMQ"/>
        <property name="timeout" value="1000"/>
        <!---->
    </bean>

    <!--在操作现场预分拣即返调度之后 发送mq 下发数据给自动分拣机 added by zhanglei-->
    <bean id="reassignWaybillMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_reassign_waybill"/>
        <property name="timeout" value="1000"/>
    </bean>

    <!--在操作换单打印之后 发送mq 下发数据给自动分拣机 added by zhanglei-->
    <bean id="reverseChangeWaybillCodeMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_reverse_change_waybillCode"/>
        <property name="timeout" value="1000"/>
    </bean>

    <!--在龙门架扫描写任务之后发出一条mq消息出来，用于车辆调度计算龙门架流速 added by zhanglei 20170310-->
    <bean id="gantryScanPackageMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_gantry_scan_package"/>
        <property name="timeout" value="1000"/>
    </bean>

    <!--武汉邮政 发送mq 自消费 added by wzx-->
    <bean id="whSmsSendMq" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_dms_whSms_mq"/>
        <property name="timeout" value="1000"/>
    </bean>

    <!--全国邮政 发送mq 自消费 added by wzx-->
    <bean id="emsSendMq" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_dms_ems_mq"/>
        <property name="timeout" value="1000"/>
    </bean>
    
    <!-- 智配中心分拣给终端系统发送mq -->
    <bean id="zhipeiSortingMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="zhipei_sorting_client"/>
        <property name="timeout" value="1000"/>
    </bean>

    <!-- 第三方发货推财务mq -->
    <bean id="deliveryToFinanceMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="delivery_to_finance"/>
        <property name="timeout" value="1000"/>
    </bean>

    <!-- 北京bcr实现粗分，将本地的分拣方案主表和明细表发送给DTC系统 created by wzx -->
    <bean id="sortSchemeSendDtcMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="bd_sortscheme_send_DTC"/>
        <property name="timeout" value="1000"/>
    </bean>

    <jmq:transport id="jmq.dmsWorker.transport" address="${jmq.dmsWorker.address}" user="${jmq.dmsWorker.user}"
                   password="${jmq.dmsWorker.password}" app="${jmq.dmsWorker.producer.app}"/>

    <jmq:producer id="workerProducer" retryTimes="3" transport="jmq.dmsWorker.transport"/>

    <!--转网拦截推送MQ消息-->
    <bean id="dmsWaybillTransferInterceptMQ" class="com.jd.bluedragon.core.jmq.producer.DefaultJMQProducer">
        <property name="topic" value="${jmq.topic.dms.waybill.transfer.intercept}"/>
        <property name="timeout" value="1000"/>
    </bean>

</beans>
