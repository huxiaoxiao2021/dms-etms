<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jd.bluedragon.distribution.auto.dao.ScannerFramwBatchSendDao" >

	<resultMap id="resultMap" type="com.jd.bluedragon.distribution.auto.domain.ScannerFrameBatchSend" >
		<result column="id" property="id" />
		<result column="batch_code" property="sendCode" />
		<result column="create_site_code" property="createSiteCode" />
		<result column="create_user" property="createUser" />
		<result column="create_user_code" property="createUserCode" />
		<result column="update_user_code" property="updateUserCode" />
		<result column="update_user" property="updateUser" />
		<result column="create_time" property="createTime" />
		<result column="update_time" property="updateTime" />
		<result column="yn" property="yn" />
		
	</resultMap>
    <sql id="createTable">
    <![CDATA[
        CREATE TABLE `scanner_frame_batch_send` (
  `ID` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `MACHINE_ID` bigint(20) NOT NULL COMMENT '龙门加注册号',
  `CREATE_SITE_CODE` BIGINT(20) NOT NULL COMMENT '发货分拣中心ID',
  `CREATE_SITE_NAME` VARCHAR(32) DEFAULT NULL COMMENT '发货分拣中心名称',
  `RECEIVE_SITE_CODE` BIGINT(20) NOT NULL COMMENT '接收站点ID',
  `RECEIVE_SITE_NAME` VARCHAR(32) DEFAULT NULL COMMENT '接收站点名称',
  `SEND_CODE` VARCHAR(50) NOT NULL COMMENT '发货批次号',
  `PRINT_TIMES` TINYINT NOT NULL DEFAULT 0 COMMENT '打印次数',
  `CREATE_USER_ID` bigint(20) NOT NULL COMMENT '创建用户ID',
  `CREATE_USER_NAME` varchar(32) DEFAULT NULL COMMENT '创建用户姓名',
  `UPDATE_USER_ID` bigint(20) DEFAULT NULL COMMENT '更新用户ID',
  `UPDATE_USER_NAME` varchar(32) DEFAULT NULL COMMENT '更新用户姓名',
  `LAST_PRINT_IIME` DATETIME DEFAULT NULL COMMENT '最近一次打印时间',
  `CREATE_TIME` datetime NOT NULL COMMENT '创建时间',
  `UPDATE_TIME` datetime NOT NULL COMMENT '更新时间',
  `YN` TINYINT NOT NULL DEFAULT 1,
  `TS` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '时间截',
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
]]>
    </sql>
	<sql id="allFields">

    </sql>
	<insert id="add" parameterType="scannerFrameBatchSend" >

	</insert>

    <select id="selectCurrentBatchSend">
        SELECT <include refid="allFields"/> FROM scanner_frame_batch_send
        WHERE     create_time>=#{startTime,jdbcType=TIMESTAMP}
              AND create_time<![CDATA[<]]> #{endTime,jdbcType=TIMESTAMP}
              AND machine_id=#{'machineId',jdbcType.LONG}
              AND receive_site_code=#{receiveSiteCode.jdbcType.LONG} limit 1
    </select>

</mapper>