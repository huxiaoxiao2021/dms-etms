<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jd.bluedragon.distribution.receive.dao.ReceiveWeightCheckDao">

	<resultMap id="ReceiveWeightCheckResult" type="com.jd.bluedragon.distribution.receive.domain.ReceiveWeightCheckResult" >
		<id column="id" property="id" javaType="java.lang.Long" jdbcType="BIGINT" />
		<result column="review_date" property="reviewDate" javaType="java.util.Date" jdbcType="TIMESTAMP" />
		<result column="package_code" property="packageCode" javaType="java.lang.String" jdbcType="VARCHAR" />
		<result column="busi_name" property="busiName" javaType="java.lang.String" jdbcType="VARCHAR" />
		<result column="review_org" property="reviewOrg" javaType="java.lang.String" jdbcType="VARCHAR" />
		<result column="review_create_site_code" property="reviewCreateSiteCode" javaType="java.lang.Integer" jdbcType="BIGINT" />
		<result column="review_create_site_name" property="reviewCreateSiteName" javaType="java.lang.String" jdbcType="VARCHAR" />
		<result column="review_erp" property="reviewErp" javaType="java.lang.String" jdbcType="VARCHAR" />
		<result column="review_weight" property="reviewWeight" javaType="java.lang.Double" jdbcType="DOUBLE" />
		<result column="review_lwh" property="reviewLwh" javaType="java.lang.String" jdbcType="VARCHAR" />
		<result column="review_volume" property="reviewVolume" javaType="java.lang.Double" jdbcType="DOUBLE" />
		<result column="receive_org" property="receiveOrg" javaType="java.lang.String" jdbcType="VARCHAR" />
		<result column="receive_department" property="receiveDepartment" javaType="java.lang.String" jdbcType="VARCHAR" />
		<result column="receive_erp" property="receiveErp" javaType="java.lang.String" jdbcType="VARCHAR" />
		<result column="receive_weight" property="receiveWeight" javaType="java.lang.Double" jdbcType="DOUBLE" />
		<result column="receive_lwh" property="receiveLwh" javaType="java.lang.String" jdbcType="VARCHAR" />
		<result column="receive_volume" property="receiveVolume" javaType="java.lang.Double" jdbcType="DOUBLE" />
		<result column="weight_diff" property="weightDiff" javaType="java.lang.Double" jdbcType="DOUBLE" />
		<result column="volume_weight_diff" property="volumeWeightDiff" javaType="java.lang.Double" jdbcType="DOUBLE" />
		<result column="diff_standard" property="diffStandard" javaType="java.lang.String" jdbcType="VARCHAR" />
		<result column="is_excess" property="isExcess" javaType="java.lang.Integer" jdbcType="TINYINT" />
		<result column="is_delete" property="isDelete" javaType="java.lang.Integer" jdbcType="TINYINT" />
		<result column="ts" property="ts" javaType="java.util.Date" jdbcType="TIMESTAMP" />
	</resultMap>

	<sql id="Base_Column_List" >
		id,review_date,package_code,busi_name,review_org,review_create_site_code,review_create_site_name,review_erp,
		review_weight,review_lwh,review_volume,receive_org,receive_department,receive_erp,receive_weight,
		receive_lwh,receive_volume,weight_diff,volume_weight_diff,diff_standard,is_excess,is_delete,
		ts
	</sql>

	<insert id="insert" parameterType="com.jd.bluedragon.distribution.receive.domain.ReceiveWeightCheckResult">
		INSERT INTO receive_weight (
		review_date, package_code, busi_name, review_org,review_create_site_code,review_create_site_name,review_erp
		review_weight,review_lwh,review_volume,receive_org,receive_department,receive_erp,receive_weight,
		receive_lwh,receive_volume,weight_diff,volume_weight_diff,diff_standard,is_excess,is_delete)
		VALUES (
		#{reviewDate,jdbcType=TIMESTAMP}, #{packageCode,jdbcType=VARCHAR}, #{busiName,jdbcType=VARCHAR}, #{reviewOrg,jdbcType=VARCHAR},
		#{reviewCreateSiteCode,jdbcType=BIGINT}, #{reviewCreateSiteName,jdbcType=VARCHAR}, #{reviewErp,jdbcType=VARCHAR}, #{reviewWeight,jdbcType=DOUBLE}, #{reviewLwh,jdbcType=VARCHAR},
		#{reviewVolume,jdbcType=DOUBLE}, #{receiveOrg,jdbcType=VARCHAR}, #{receiveDepartment,jdbcType=VARCHAR}, #{receiveErp,jdbcType=VARCHAR},
		#{receiveWeight,jdbcType=DOUBLE}, #{receiveLwh,jdbcType=VARCHAR}, #{receiveVolume,jdbcType=DOUBLE}, #{weightDiff,jdbcType=DOUBLE},
		#{volumeWeightDiff,jdbcType=DOUBLE}, #{diffStandard,jdbcType=VARCHAR}, #{isExcess,jdbcType=TINYINT}, 1)
	</insert>

	<sql id="Base_Condition_Sql" >
			and is_delete=1
	</sql>

	<sql id="Query_Params_Condition_Sql">
		<if test="reviewStartTime != null">
			<![CDATA[
				and review_date >= #{reviewStartTime,jdbcType=TIMESTAMP}
				]]>
		</if>
		<if test="reviewEndTime != null">
			<![CDATA[
				and review_date <= #{reviewEndTime,jdbcType=TIMESTAMP}
				]]>
		</if>
		<if test="createSiteCode != null">
			and review_create_site_code = #{createSiteCode,jdbcType=BIGINT}
		</if>
		<if test="isExcess != null">
			and is_excess = #{isExcess,jdbcType=TINYINT}
		</if>
	</sql>

	<select id="queryByCondition" parameterType="com.jd.bluedragon.distribution.receive.domain.ReceiveWeightCheckCondition" resultMap="ReceiveWeightCheckResult">
		select 
		 <include refid="Base_Column_List"/>
		from
			receive_weight
		where 1=1
		<include refid="Query_Params_Condition_Sql"/>

		<include refid="Base_Condition_Sql"/>
		<if test="limit != -1">
			limit #{offset,jdbcType=INTEGER},#{limit,jdbcType=INTEGER}
		</if>
	</select>

</mapper>